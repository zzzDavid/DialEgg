(include "../../../src/base.egg")

;;;; comb dialect ;;;;
(function comb_concat (Op OpVec Type) Op)

;;;; hw dialect ;;;;
(function hw_output (Op) Op)

;; OPS HERE ;;
; ConcatVar_hw.module
(let op0 (Value 0 (I8)))
(let op1 (Value 1 (I8)))
(let op2 (Value 2 (I8)))
(let op3 (comb_concat op0 (vec-of op1 op2 op0 op1 op2 op0 op1 op2) (Int 72)))
(let op4 (hw_output op3))

;; RULES HERE ;;
(ruleset rules)

(run-schedule (saturate rules))

;; EXTRACTS HERE ;;
(extract op4)
